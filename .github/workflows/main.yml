name: CI

on:
  push:
    branches:
      - master
      - dev
  pull_request:
    paths-ignore:
      - '**/*.md'
      - '**/*.txt'

jobs:
  build:
    name: Build and Package APKs
    runs-on: ubuntu-latest
    steps:
      - name: Check out the code
        uses: actions/checkout@v2

      - name: Extract Commit Comments
        id: commit_comments
        run: |         
          commits=$(echo '${{ toJson(github.event.commits) }}' | jq '.[] | .id[0:7] + " " + .message' -r)
          echo "$commits" | while read commit; do
            echo $commit
          done
          echo "commits: ${commit}"
          
